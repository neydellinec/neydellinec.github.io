<!DOCTYPE html>
<html lang="en">
<head>
  <title>Canvas Sample</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="canvasStyles.css" media="screen">
</head>

<body>
  <div id="mainDiv">
    <header>
      <h3>A Sample Canvas</h3>
    </header>
    
    <section>
      <h4>Here is the first canvas tag:</h4>
      <canvas id='theCanvas'></canvas>
      
      <h4>Here is the second canvas tag:</h4>
      <h5>(This is a fake power meter at 75%)</h5>
      <canvas id='theCanvas2'></canvas>
    </section>
    
    <br><br>
    <footer>
      Â© 2019
    </footer>
  </div>
  
  <script>
    var c = document.getElementById('theCanvas');
    var ctx1 = c.getContext("2d");
    ctx1.fillStyle = "#FF0000";
    ctx1.fillRect(20, 20, 150, 100);
    
    var c2 = document.getElementById('theCanvas2');
    var ctx2 = c2.getContext("2d");
    
    var powerLevel = 75;
    ctx2.clearRect(0, 0, c2.width, c2.height);
    ctx2.beginPath();
    ctx2.arc(150,150,140,1.2*Math.PI,1.8*Math.PI);
    ctx2.stroke();  
        
    ctx2.beginPath();
    ctx2.moveTo(150, 150);  // Same as center of the arc
    
    // Figure how much of the arc to use...
    var arcPortion = (powerLevel/100) * (0.6*Math.PI);
    console.log("arcPortion is " + arcPortion);
    var X_End = 150 + 140 * Math.cos((1.2*Math.PI) + arcPortion);
    var Y_End = 150 + 140 * Math.sin((1.2*Math.PI) + arcPortion);
    ctx2.lineTo(X_End, Y_End);
    ctx2.stroke();      
  </script>

</body>
</html>
